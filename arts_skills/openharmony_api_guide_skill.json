{
  "name": "OpenHarmony å¹³å° API ä½¿ç”¨æŒ‡å—",
  "description": "æä¾› OpenHarmony å¹³å° API çš„ä½¿ç”¨æŒ‡å—ï¼ŒåŒ…æ‹¬ä¸ Node.js API çš„å¯¹æ¯”ã€æ­£ç¡®çš„ API ä½¿ç”¨æ–¹å¼ã€å¸¸è§é”™è¯¯å’Œæœ€ä½³å®è·µã€‚å¸®åŠ©å¼€å‘è€…æ­£ç¡®ä½¿ç”¨ OpenHarmony å¹³å°æä¾›çš„ API æ›¿ä»£ Node.js APIã€‚",
  "version": "1.0.0",
  "category": "å¹³å° API",
  "tags": [
    "openharmony",
    "arkts",
    "ets",
    "å¹³å° API",
    "API è¿ç§»",
    "æœ€ä½³å®è·µ"
  ],
  "input_schema": {
    "type": "object",
    "properties": {
      "query": {
        "type": "string",
        "description": "æŸ¥è¯¢å†…å®¹ï¼ˆå¦‚ï¼šå¦‚ä½•ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿ APIã€å¦‚ä½•è¿›è¡Œç½‘ç»œè¯·æ±‚ã€å¦‚ä½•å¤„ç†è·¯å¾„ç­‰ï¼‰"
      },
      "codeSnippet": {
        "type": "string",
        "description": "ä»£ç ç‰‡æ®µï¼ˆå¯é€‰ï¼Œç”¨äºä»£ç å®¡æŸ¥æˆ–è¿ç§»å»ºè®®ï¼‰"
      },
      "apiCategory": {
        "type": "string",
        "enum": [
          "filesystem",
          "network",
          "path",
          "buffer",
          "logging",
          "ability",
          "ui",
          "crypto",
          "storage"
        ],
        "description": "API ç±»åˆ«ï¼ˆå¯é€‰ï¼Œç”¨äºèšç„¦ç‰¹å®šé¢†åŸŸï¼‰"
      }
    },
    "required": [
      "query"
    ]
  },
  "steps": [
    {
      "step": 1,
      "name": "ç†è§£æŸ¥è¯¢æ„å›¾",
      "description": "åˆ†æç”¨æˆ·æŸ¥è¯¢ï¼Œç¡®å®šéœ€è¦æä¾›çš„ API æŒ‡å¯¼ç±»å‹",
      "actions": [
        "åˆ†ææŸ¥è¯¢å†…å®¹",
        "è¯†åˆ« API ç±»åˆ«ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€è·¯å¾„ç­‰ï¼‰",
        "ç¡®å®šæ˜¯å¦éœ€è¦ä» Node.js API è¿ç§»",
        "ç¡®å®šæ˜¯å¦éœ€è¦ä»£ç å®¡æŸ¥"
      ]
    },
    {
      "step": 2,
      "name": "æä¾› API æ˜ å°„å’Œå¯¹æ¯”",
      "description": "æ ¹æ®æŸ¥è¯¢æä¾› OpenHarmony API ä¸ Node.js API çš„æ˜ å°„å…³ç³»",
      "topics": {
        "filesystem": [
          "ä½¿ç”¨ @kit.CoreFileKit çš„ fileIo æ¥å£æ›¿ä»£ Node.js fs",
          "æ–‡ä»¶è¯»å†™æ“ä½œï¼ˆreadText, writeText, open, read, writeï¼‰",
          "readText å’Œ writeText é»˜è®¤ä½¿ç”¨ utf-8 ç¼–ç ï¼Œæ— éœ€æ˜¾å¼æŒ‡å®š encoding",
          "ç›®å½•æ“ä½œï¼ˆmkdir, rmdir, listFileï¼‰",
          "æ–‡ä»¶ä¿¡æ¯ï¼ˆstat, accessï¼‰",
          "å¼‚æ­¥æ“ä½œä½¿ç”¨ Promise"
        ],
        "network": [
          "ä½¿ç”¨ @kit.NetworkKit çš„ http æ¥å£æ›¿ä»£ Node.js http/https",
          "HTTP è¯·æ±‚ï¼šä½¿ç”¨ http.createHttp() åˆ›å»ºè¯·æ±‚å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ request() æ–¹æ³•",
          "è¯·æ±‚æ–¹æ³•ï¼šä½¿ç”¨ http.RequestMethod.GET, http.RequestMethod.POST ç­‰",
          "è¯·æ±‚é€‰é¡¹ï¼šä½¿ç”¨ http.HttpRequestOptions é…ç½®è¯·æ±‚ï¼ˆmethod, header, extraData, readTimeout, connectTimeoutï¼‰",
          "ç½‘ç»œçŠ¶æ€æ£€æµ‹ï¼šä½¿ç”¨ @kit.NetworkKit çš„ connection æ¥å£",
          "é”™è¯¯å¤„ç†ï¼šä½¿ç”¨ @kit.BasicServicesKit çš„ BusinessError ç±»å‹"
        ],
        "path": [
          "OpenHarmony ä¸æä¾›æ ‡å‡†è·¯å¾„å¤„ç†æ¨¡å—",
          "éœ€è¦æ‰‹åŠ¨å®ç°è·¯å¾„æ“ä½œæ–¹æ³•",
          "å®ç° join, basename, parent ç­‰æ–¹æ³•",
          "ä½¿ç”¨å­—ç¬¦ä¸²æ“ä½œå¤„ç†è·¯å¾„",
          "è€ƒè™‘åˆ›å»ºè‡ªå®šä¹‰ FileSystem æ¥å£å°è£…è·¯å¾„æ“ä½œ"
        ],
        "buffer": [
          "ä½¿ç”¨ Uint8Array æˆ– ArrayBuffer æ›¿ä»£ Node.js Buffer",
          "ä½¿ç”¨ @kit.ArkTS çš„ buffer å·¥å…·è¿›è¡Œå­—èŠ‚æ•°ç»„æ“ä½œ",
          "ä½¿ç”¨ @kit.ArkTS çš„ util å·¥å…·ï¼ˆTextEncoder, TextDecoder ç­‰ï¼‰",
          "ç¼–ç è½¬æ¢ï¼ˆä½¿ç”¨ TextEncoder.encodeInto() å’Œ TextDecoder.decode()ï¼Œé»˜è®¤ utf-8ï¼Œæ— éœ€æ˜¾å¼æŒ‡å®š encodingï¼‰",
          "JSON å¤„ç†ï¼šä½¿ç”¨ @kit.ArkTS çš„ JSON æ¥å£æ›¿ä»£å…¨å±€ JSONï¼ˆå¦‚æœéœ€è¦ç‰¹å®šåŠŸèƒ½ï¼‰",
          "é›†åˆç±»å‹ï¼šä½¿ç”¨ @kit.ArkTS çš„ ArrayList ç­‰é›†åˆç±»"
        ],
        "logging": [
          "æ¨èä½¿ç”¨ consoleï¼ˆconsole.log, console.info, console.warn, console.error, console.debugï¼‰",
          "console ç”¨æ³•ä¸ Node.js ç›¸åŒï¼Œæ— éœ€é¢å¤–å¯¼å…¥",
          "é«˜çº§åœºæ™¯å¯ä½¿ç”¨ @kit.PerformanceAnalysisKit çš„ hilogï¼ˆç”¨äºæ€§èƒ½åˆ†æå’Œç³»ç»Ÿæ—¥å¿—ï¼‰",
          "hilog éœ€è¦è®¾ç½®æ—¥å¿—åŸŸï¼ˆDOMAINï¼‰å’Œæ ‡ç­¾ï¼ˆTAGï¼‰",
          "hilog æ”¯æŒæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆ%{public}s, %{public}dï¼‰",
          "åº”ç”¨äº‹ä»¶ä¸ŠæŠ¥ä½¿ç”¨ hiAppEvent"
        ],
        "ability": [
          "ä½¿ç”¨ @kit.AbilityKit çš„ UIAbility",
          "ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆonCreate, onDestroy, onWindowStageCreateï¼‰",
          "ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ä½¿ç”¨",
          "Want å’Œ LaunchParam"
        ],
        "ui": [
          "ä½¿ç”¨ @kit.ArkUI çš„ window æ¥å£è¿›è¡Œçª—å£ç®¡ç†",
          "çª—å£ç®¡ç†ï¼ˆWindowStage, loadContentï¼‰",
          "æ˜¾ç¤ºä¿¡æ¯ï¼šä½¿ç”¨ @kit.ArkUI çš„ display æ¥å£è·å–å±å¹•ä¿¡æ¯",
          "UI ç»„ä»¶ä½¿ç”¨ï¼šå£°æ˜å¼ UI å¼€å‘"
        ],
        "crypto": [
          "ä½¿ç”¨ @kit.CryptoArchitectureKit çš„ cryptoFramework æ¥å£æ›¿ä»£ Node.js crypto",
          "å¯¹ç§°åŠ å¯†ï¼šä½¿ç”¨ cryptoFramework.createCipher() å’Œ createSymKeyGenerator()",
          "å¯†é’¥ç”Ÿæˆï¼šä½¿ç”¨ SymKeyGenerator ç”Ÿæˆæˆ–è½¬æ¢å¯†é’¥",
          "åŠ å¯†ç®—æ³•ï¼šæ”¯æŒ AES256|CBC|PKCS5 ç­‰æ ‡å‡†ç®—æ³•",
          "æ•°æ®æ ¼å¼ï¼šä½¿ç”¨ DataBlob å’Œ IvParamsSpec ç­‰ç±»å‹",
          "é…åˆ @kit.ArkTS çš„ buffer å’Œ util è¿›è¡Œæ•°æ®è½¬æ¢"
        ],
        "storage": [
          "ä½¿ç”¨ @kit.ArkData çš„ preferences æ¥å£è¿›è¡Œé”®å€¼å¯¹å­˜å‚¨",
          "æ•°æ®æŒä¹…åŒ–ï¼šæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æ“ä½œ",
          "è®¾å¤‡ä¿¡æ¯ï¼šä½¿ç”¨ @kit.BasicServicesKit çš„ deviceInfo è·å–è®¾å¤‡ç›¸å…³ä¿¡æ¯"
        ]
      }
    },
    {
      "step": 3,
      "name": "æä¾›ä»£ç ç¤ºä¾‹",
      "description": "æä¾›æ­£ç¡®çš„ OpenHarmony API ä½¿ç”¨ç¤ºä¾‹",
      "actions": [
        "æä¾› OpenHarmony API æ­£ç¡®ä½¿ç”¨ç¤ºä¾‹",
        "æä¾› Node.js API é”™è¯¯ç¤ºä¾‹å¯¹æ¯”",
        "è¯´æ˜ API å·®å¼‚å’Œæ³¨æ„äº‹é¡¹",
        "æä¾›è¿ç§»æ­¥éª¤"
      ]
    },
    {
      "step": 4,
      "name": "ä»£ç å®¡æŸ¥ï¼ˆå¦‚æä¾›ä»£ç ï¼‰",
      "description": "å¦‚æœæä¾›äº†ä»£ç ç‰‡æ®µï¼Œè¿›è¡Œ API ä½¿ç”¨å®¡æŸ¥",
      "actions": [
        "æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† Node.js APIï¼ˆéœ€è¦æ›¿æ¢ï¼‰",
        "æ£€æŸ¥ OpenHarmony API ä½¿ç”¨æ˜¯å¦æ­£ç¡®",
        "æ£€æŸ¥é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„",
        "æä¾›ä¼˜åŒ–å»ºè®®"
      ]
    },
    {
      "step": 5,
      "name": "ç”ŸæˆæŒ‡å¯¼æŠ¥å‘Š",
      "description": "ç”Ÿæˆå®Œæ•´çš„ API ä½¿ç”¨æŒ‡å¯¼æŠ¥å‘Š",
      "actions": [
        "æ±‡æ€» API æ˜ å°„å…³ç³»",
        "æä¾›ä»£ç ç¤ºä¾‹",
        "æä¾›å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ",
        "æä¾›å®˜æ–¹æ–‡æ¡£é“¾æ¥"
      ]
    }
  ],
  "api_mapping": {
    "filesystem": {
      "nodejs": "import fs from 'fs'",
      "openharmony": "import { fileIo } from '@kit.CoreFileKit'",
      "examples": {
        "readFile": {
          "nodejs": "const data = fs.readFileSync('file.txt', 'utf8')",
          "openharmony": "const data = await fileIo.readText('file.txt') // é»˜è®¤ utf-8ï¼Œæ— éœ€æŒ‡å®š encoding"
        },
        "writeFile": {
          "nodejs": "fs.writeFileSync('file.txt', 'content', 'utf8')",
          "openharmony": "await fileIo.writeText('file.txt', 'content') // é»˜è®¤ utf-8ï¼Œæ— éœ€æŒ‡å®š encoding"
        },
        "mkdir": {
          "nodejs": "fs.mkdirSync('dir', { recursive: true })",
          "openharmony": "await fileIo.mkdir('dir', true)"
        }
      }
    },
    "network": {
      "nodejs": "import http from 'http'",
      "openharmony": "import { http } from '@kit.NetworkKit'",
      "examples": {
        "get": {
          "nodejs": "http.get(url, (res) => { ... })",
          "openharmony": "const httpRequest = http.createHttp();\nconst response = await httpRequest.request(url, {\n  method: http.RequestMethod.GET,\n  header: { 'Content-Type': 'application/json' },\n  readTimeout: 5000,\n  connectTimeout: 5000\n})"
        },
        "post": {
          "nodejs": "http.post(url, { data: 'body' }, (res) => { ... })",
          "openharmony": "const httpRequest = http.createHttp();\nconst response = await httpRequest.request(url, {\n  method: http.RequestMethod.POST,\n  header: { 'Content-Type': 'application/json' },\n  extraData: JSON.stringify({ data: 'body' }),\n  readTimeout: 5000,\n  connectTimeout: 5000\n})"
        },
        "error_handling": {
          "nodejs": "try { ... } catch (err) { ... }",
          "openharmony": "import { BusinessError } from '@kit.BasicServicesKit';\ntry {\n  const response = await httpRequest.request(...);\n} catch (err) {\n  const businessError = err as BusinessError;\n  console.error('Request failed:', businessError.message);\n}"
        }
      }
    },
    "path": {
      "nodejs": "import path from 'path'",
      "openharmony": "éœ€è¦æ‰‹åŠ¨å®ç°æˆ–ä½¿ç”¨è‡ªå®šä¹‰æ¥å£",
      "examples": {
        "join": {
          "nodejs": "path.join('dir', 'file.txt')",
          "openharmony": "// æ‰‹åŠ¨å®ç°ï¼š\nfunction join(...segments: string[]): string {\n  return segments.filter(s => s).join('/').replace(/\\/+/g, '/')\n}"
        },
        "basename": {
          "nodejs": "path.basename('/dir/file.txt')",
          "openharmony": "// æ‰‹åŠ¨å®ç°ï¼š\nfunction basename(filePath: string): string {\n  const parts = filePath.split('/');\n  return parts[parts.length - 1];\n}"
        }
      }
    },
    "buffer": {
      "nodejs": "import { Buffer } from 'buffer'",
      "openharmony": "ä½¿ç”¨ Uint8Array æˆ– ArrayBufferï¼Œæˆ– import { buffer } from '@kit.ArkTS'",
      "examples": {
        "create": {
          "nodejs": "const buf = Buffer.from('hello', 'utf8')",
          "openharmony": "const encoder = new TextEncoder();\nconst buf = encoder.encodeInto('hello') // ä½¿ç”¨ encodeInto æ–¹æ³•"
        },
        "toString": {
          "nodejs": "buf.toString('utf8')",
          "openharmony": "const decoder = new TextDecoder(); // é»˜è®¤ utf-8\nconst str = decoder.decode(buf)"
        }
      }
    },
    "logging": {
      "nodejs": "console.log('message')",
      "openharmony": "console.log('message') // æ¨èï¼šç”¨æ³•ä¸ Node.js ç›¸åŒ",
      "examples": {
        "info": {
          "nodejs": "console.info('message')",
          "openharmony": "console.info('message') // æ¨èæ–¹å¼"
        },
        "error": {
          "nodejs": "console.error('error')",
          "openharmony": "console.error('error') // æ¨èæ–¹å¼"
        },
        "hilog_advanced": {
          "description": "é«˜çº§åœºæ™¯ï¼šæ€§èƒ½åˆ†æå’Œç³»ç»Ÿæ—¥å¿—",
          "nodejs": "console.log('message')",
          "openharmony": "import { hilog } from '@kit.PerformanceAnalysisKit';\nconst DOMAIN = 0x0000;\nhilog.info(DOMAIN, 'TAG', '%{public}s', 'message')"
        }
      }
    },
    "crypto": {
      "nodejs": "import crypto from 'crypto'",
      "openharmony": "import { cryptoFramework } from '@kit.CryptoArchitectureKit'",
      "examples": {
        "encrypt": {
          "nodejs": "const cipher = crypto.createCipheriv('aes-256-cbc', key, iv)",
          "openharmony": "const symKeyGenerator = cryptoFramework.createSymKeyGenerator('AES256');\nconst symKey = await symKeyGenerator.convertKey({ data: keyBlob });\nconst cipher = cryptoFramework.createCipher('AES256|CBC|PKCS5');\nawait cipher.init(cryptoFramework.CryptoMode.ENCRYPT_MODE, symKey, {\n  iv: { data: ivBlob },\n  algName: 'IvParamsSpec'\n})"
        },
        "key_generation": {
          "nodejs": "const key = crypto.randomBytes(32)",
          "openharmony": "const symKeyGenerator = cryptoFramework.createSymKeyGenerator('AES256');\nconst symKey = await symKeyGenerator.generateSymKey()"
        }
      }
    }
  },
  "common_errors": {
    "nodejs_api_usage": {
      "error": "ç›´æ¥ä½¿ç”¨ Node.js APIï¼ˆå¦‚ fs, http, path, Bufferï¼‰",
      "solution": "ä½¿ç”¨å¯¹åº”çš„ OpenHarmony API æ›¿ä»£",
      "example": "âŒ import fs from 'fs'\nâœ… import { fileIo } from '@kit.CoreFileKit'"
    },
    "sync_api_usage": {
      "error": "ä½¿ç”¨åŒæ­¥ APIï¼ˆOpenHarmony ä¸»è¦æä¾›å¼‚æ­¥ APIï¼‰",
      "solution": "ä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ",
      "example": "âŒ const data = fileIo.readTextSync(...)\nâœ… const data = await fileIo.readText(...)"
    },
    "path_module_missing": {
      "error": "å°è¯•ä½¿ç”¨ path æ¨¡å—ï¼ˆOpenHarmony ä¸æä¾›ï¼‰",
      "solution": "æ‰‹åŠ¨å®ç°è·¯å¾„æ“ä½œæ–¹æ³•æˆ–ä½¿ç”¨è‡ªå®šä¹‰ FileSystem æ¥å£",
      "example": "âŒ import path from 'path'\nâœ… å®ç°è‡ªå®šä¹‰ join/basename/parent æ–¹æ³•"
    },
    "buffer_usage": {
      "error": "ä½¿ç”¨ Node.js Buffer",
      "solution": "ä½¿ç”¨ Uint8Array æˆ– ArrayBufferï¼Œé…åˆ TextEncoder/TextDecoder",
      "example": "âŒ const buf = Buffer.from('text')\nâœ… const buf = new TextEncoder().encodeInto('text')"
    }
  },
  "best_practices": {
    "error_handling": "ä½¿ç”¨ try-catch å¤„ç†å¼‚æ­¥ API é”™è¯¯ï¼Œæ³¨æ„ BusinessError ç±»å‹",
    "async_operations": "æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œæ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä½¿ç”¨ async/await",
    "path_handling": "åˆ›å»ºç»Ÿä¸€çš„ FileSystem æ¥å£å°è£…è·¯å¾„æ“ä½œï¼Œé¿å…é‡å¤å®ç°",
    "logging": "æ¨èä½¿ç”¨ consoleï¼ˆç”¨æ³•ä¸ Node.js ç›¸åŒï¼‰ï¼Œé«˜çº§åœºæ™¯å¯ä½¿ç”¨ hilog è¿›è¡Œæ€§èƒ½åˆ†æ",
    "type_safety": "ä½¿ç”¨å…·ä½“çš„ OpenHarmony ç±»å‹ï¼Œé¿å…ä½¿ç”¨ any æˆ– ESObject",
    "resource_cleanup": "åŠæ—¶å…³é—­æ–‡ä»¶å¥æŸ„å’Œ HTTP è¿æ¥ï¼Œä½¿ç”¨ try-finally ç¡®ä¿èµ„æºé‡Šæ”¾"
  },
  "output_format": {
    "type": "markdown",
    "sections": [
      "## ğŸ“š API æ˜ å°„",
      "## âœ… æ­£ç¡®ç¤ºä¾‹ï¼ˆOpenHarmonyï¼‰",
      "## âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆNode.jsï¼‰",
      "## ğŸ”„ è¿ç§»æ­¥éª¤",
      "## âš ï¸ å¸¸è§é”™è¯¯",
      "## ğŸ’¡ æœ€ä½³å®è·µ",
      "## ğŸ“– å®˜æ–¹æ–‡æ¡£é“¾æ¥"
    ]
  },
  "examples": [
    {
      "input": {
        "query": "å¦‚ä½•åœ¨ OpenHarmony ä¸­è¯»å–æ–‡ä»¶ï¼Ÿ",
        "apiCategory": "filesystem"
      },
      "description": "æŸ¥è¯¢æ–‡ä»¶è¯»å– API ä½¿ç”¨"
    },
    {
      "input": {
        "query": "å¦‚ä½•å‘é€ HTTP è¯·æ±‚ï¼Ÿ",
        "apiCategory": "network"
      },
      "description": "æŸ¥è¯¢ç½‘ç»œè¯·æ±‚ API ä½¿ç”¨"
    },
    {
      "input": {
        "codeSnippet": "import fs from 'fs';\nconst data = fs.readFileSync('file.txt', 'utf8');",
        "query": "è¿™æ®µä»£ç å¦‚ä½•è¿ç§»åˆ° OpenHarmonyï¼Ÿ"
      },
      "description": "ä»£ç è¿ç§»ç¤ºä¾‹"
    },
    {
      "input": {
        "query": "å¦‚ä½•å¤„ç†æ–‡ä»¶è·¯å¾„ï¼Ÿ",
        "apiCategory": "path"
      },
      "description": "æŸ¥è¯¢è·¯å¾„å¤„ç†æ–¹å¼"
    }
  ]
}
